notifications:
  slack: 601-h17-eq2:pdSywKBC71uiHz8xYNbNXBEA
language: android
sudo: required
jdk: oraclejdk8
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.android/build-cache"
android:
  components:
  - tools
  - platform-tools
  - android-25
  - build-tools-25.0.2
  - extra-android-m2repository
before_script:
- chmod +x gradlew
script:
- "./gradlew build"
- "./gradlew assembleRelease"
after_success:
- sh set_tags.sh
deploy:
  provider: releases
  api_key:
    secure: xxXRmZ5+yRavfK0e7RiKdUWxBOQKPNiFR1SaBDI19gnziA+6yevffHdAi32SWrEqwH8XXAJZpEvhgDXmi3SFPrwHKzeOWaWo8TnIKv12AFNSrZlpzUYg+Wi1fXk5gRsa9ctK76W+BLm3Y80i0zZUagGHO+HWE9cNSh0fs37/donyZJc48XmwBovtHaXVRHsLVnokZg3P03JVJzsG85jFYBnCHLzlrammKoQghp39I6cfXHN4tpTyln1dF6YqR7FUXLOqU3X15UjsAFd8CLA5Ou23fg1MEqzM8LQ53fHM5YWZ93Qp6H4tEZK/ynqprt0yhqsSKak7cBxzjYnNBEB21thw+vhwct2EqouUk+jBp4Q5S0JfsvvbclES+KLRSx2LzhOwY0UWCHmMQVdqutEkFgdc8z3tp/A4i4PAxBWc7OpBBHMjL5XjDN+9vhiL+DXguqEwoJJJ3/+3CTTMvN3LGTNDOhaID2QaNIf7xfXV4ZJID/WFIJRivtOFeauCD+hlg3YkTohTcT1Wk0qfHCRh0GvI1iRtaTsquchGNANpiGXb/ehd1crbLq7C4aGrHUz4gzNNbq1dUSN3h7sghiIG4UQZ5C9eNA2gDEqGbQtWggFzUeWZBtmg6KkotLzbzzI8T9rDzfAfmrWQLCTyZIX12e6aB62t/eNBkmZZiGKPvgc=
  file: app/build/outputs/apk/app-release.apk
  skip_cleanup: true
  file_glob: "true"
  on:
    repo: 601-H17/GeoApp
